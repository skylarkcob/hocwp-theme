/*!
 * jQuery.tipsy
 * Copyright (c) 2014 CreativeDream
 * Version: 1.0 (18-11-2014)
 * Requires: jQuery v1.7.1 or later
 * Fixed and updated by: laidinhcuongvn@gmail.com
 * Website: http://ldcuong.com/
 * Latest updated: 2022-08-29
 */
!function(a){let $=a;$.fn.tipsy=function(a){if("string"==typeof a&&["show","hide"].indexOf(a)> -1){switch(a){case"show":$(this).trigger("tipsy.show");break;case"hide":$(this).trigger("tipsy.hide")}return this}let b=$.extend({arrowWidth:10,attr:"data-tipsy",cls:null,duration:150,offset:7,position:"top-center",trigger:"hover",onShow:null,onHide:null},a);return this.each(function(d,a){let e=$(a),f=$('<div class="tipsy"></div>'),g=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right","left","right"],c={init:function(){let a={};switch(b.trigger){case"hover":a={mouseenter:c._show,mouseleave:c._hide};break;case"focus":a={focus:c._show,blur:c._hide};break;case"click":a={click:function(a){c._clSe?(c._clSe=!1,c._hide(a)):(c._clSe=!0,c._show(a))}};break;case"manual":c._unbindOptions(),a={"tipsy.show":function(a){c._clSe=!0,c._show(a)},"tipsy.hide":function(a){c._clSe=!1,c._hide(a)}}}e.on(a),f.hide()},_show:function(){if($(".tipsy").remove(),c._clear(),c.hasAttr(b.attr+"-disabled"))return!1;c._createBox(),"manual"!==b.trigger&&c._bindOptions()},_hide:function(){c._fixTitle(!0),f.stop(!0,!0).fadeOut(b.duration,function(){null!=b.onHide&&"function"==typeof b.onHide&&b.onHide(f,e),c._clear(),$(this).remove()})},_showIn:function(){f.stop(!0,!0).fadeIn(b.duration,function(){null!=b.onShow&&"function"==typeof b.onShow&&b.onShow(f,e)})},_bindOptions:function(){$(window).bind("contextmenu",function(){c._hide()}).bind("blur",function(){c._hide()}).bind("resize",function(){c._hide()}).bind("scroll",function(){c._hide()})},_unbindOptions:function(){$(window).unbind("contextmenu",function(){c._hide()}).unbind("blur",function(){c._hide()}).unbind("resize",function(){c._hide()}).unbind("scroll",function(){c._hide()})},_clear:function(){f.attr("class","tipsy").empty(),c._lsWpI=[],c._lsWtI=[]},hasAttr:function(a){return void 0!==(a=e.attr(a))&& !1!==a},_fixTitle:function(a){a?c.hasAttr("data-title")&&!c.hasAttr("title")&& !0===c._lsWtI[0]&&e.attr("title",c._lsWtI[1]||"").removeAttr("data-title"):(c.hasAttr("title")||!c.hasAttr("data-title"))&&(c._lsWtI=[!0,e.attr("title")],e.attr("data-title",e.attr("title")||"").removeAttr("title"))},_getTitle:function(){c._fixTitle();let a;return""+e.attr("data-title")},_position:function(m){let a={top:0,left:0},k=m||(c.hasAttr(b.attr+"-position")?e.attr(b.attr+"-position"):b.position),i=k.split("-"),l=c.hasAttr(b.attr+"-offset")?e.attr(b.attr+"-offset"):b.offset,d={offsetTop:e.offset().top,offsetLeft:e.offset().left,width:e.outerWidth(),height:e.outerHeight()},h={width:f.outerWidth(),height:f.outerHeight()},j={width:$(window).outerWidth(),height:$(window).outerHeight(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()};if(-1===$.inArray(k,g)|| -1!==$.inArray(k,c._lsWpI))return c._hide(),a;switch(c._lsWpI.push(k),i[0]){case"bottom":if(a.top=d.offsetTop+d.height+l,a.top>=j.height+j.scrollTop)return c._position("top-"+i[1]);f.addClass("arrow-top");break;case"top":if(a.top=d.offsetTop-h.height-l,a.top-j.scrollTop<=0)return c._position("bottom-"+i[1]);f.addClass("arrow-bottom");break;case"left":if(a.top=d.offsetTop+d.height/2-h.height/2,a.left=d.offsetLeft-h.width-l,a.left<=0)return c._position("right");return f.addClass("arrow-side-right"),a;case"right":if(a.top=d.offsetTop+d.height/2-h.height/2,a.left=d.offsetLeft+d.width+l,a.left+h.width>j.width)return c._position("left");return f.addClass("arrow-side-left"),a}switch(i[1]){case"left":if(a.left=d.offsetLeft+d.width/2-h.width+b.arrowWidth,a.left<=0)return c._position(i[0]+"-right");f.addClass("arrow-right");break;case"center":if(a.left=d.offsetLeft+d.width/2-h.width/2,a.left+h.width>j.width)return c._position(i[0]+"-left");if(a.left<=0)return c._position(i[0]+"-right");f.addClass("arrow-center");break;case"right":if(a.left=d.offsetLeft+d.width/2-b.arrowWidth,a.left+h.width>j.width)return c._position(i[0]+"-left");f.addClass("arrow-left")}return a},_createBox:function(){f.html(c._getTitle()).appendTo("body"),(null!=b.cls&&"string"==typeof b.cls||c.hasAttr(b.attr+"-cls"))&&f.addClass(c.hasAttr(b.attr+"-cls")?e.attr(b.attr+"-cls"):b.cls),f.css(c._position()),c._showIn()},_lsWtI:[],_lsWpI:[]};return c.init(),this})}}(jQuery)
