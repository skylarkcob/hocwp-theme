window.wp=window.wp||{};window.hocwpThemeMediaUpload=window.hocwpThemeMediaUpload||{};jQuery(document).ready(function(c){var a=c("body");function b(d){return d.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}a.on("click",".hocwp-theme .select-media",function(i){i.preventDefault();i.stopPropagation();var h=c(this),f=h.closest("div"),d=Boolean(parseInt(h.attr("data-multiple"))||parseInt(hocwpThemeMediaUpload.multiple)),k=null;if(k){k.open()}else{var j=c.trim(h.attr("data-title"))||hocwpThemeMediaUpload.l10n.title,g=c.trim(h.attr("data-button-text"))||hocwpThemeMediaUpload.l10n.buttonText,l=c.trim(h.attr("data-media-type"))||"image";j=j.replace("%s",b(l));g=g.replace("%s",l);k=wp.media({title:j,button:{text:g},multiple:d,library:{type:l}});k.open()}k.on("select",function(s){var m=k.state().get("selection");if(d){}else{var p=m.first().toJSON();if(p){var r=document.createElement("img"),q=f.closest(".widget"),t=false;r.setAttribute("src",p.url);r.setAttribute("alt",p.alt);r.setAttribute("width",p.width);r.setAttribute("height",p.height);f.find("input").val(p.id);h.html(r);if(!h.hasClass("has-media")){var o=hocwpThemeMediaUpload.updateImageDescription,n=hocwpThemeMediaUpload.removeImageButton;o=o.replace("%s",l);n=n.replace("%s",l);c(o).insertAfter(f.find(".hide-if-no-js"));c(n).insertAfter(f.find(".hide-if-no-js").last());h.addClass("has-media")}if(q.length){q.find("input[type='submit']").val(wpWidgets.l10n.save).prop("disabled",false);t=wpWidgets.l10n.saveAlert}}}f.find("a, img").trigger("blur")})});a.on("click",".hocwp-theme .remove-media",function(h){h.preventDefault();h.stopPropagation();var f=c(this),d=f.closest("div"),g=d.find(".select-media");g.html(g.attr("data-text"));g.removeClass("has-media");f.parent().remove();d.find(".howto").remove();d.find("input").val("")})});