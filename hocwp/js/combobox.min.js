jQuery(document).ready(function(b){var a=b("body");(function(){b.widget("custom.combobox",{_create:function(){this.wrapper=b("<span>").addClass("custom-combobox").insertAfter(this.element);this.element.hide();this._createAutocomplete();this._createShowAllButton()},_createAutocomplete:function(){var e=this.element.children(":selected"),f=(e&&e.val())?e.text():"",d=this.element,c=this.input;c=this.input=b("<input name='"+this.element.attr("name")+"' class='form-control'>").appendTo(this.wrapper).attr("title","").addClass("custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({delay:0,minLength:0,source:b.proxy(this,"_source")}).tooltip({classes:{"ui-tooltip":"ui-state-highlight"}}).on("change",function(){a.trigger("hocwpThemeComboboxInputChange",[this.value,c])});this._on(this.input,{autocompleteselect:function(g,h){h.item.option.selected=true;this._trigger("select",g,{item:h.item.option});a.trigger("hocwpThemeComboboxInputChange",[h.item.label,c])}})},_createShowAllButton:function(){var c=this.input,d=false;b("<a>").attr("tabIndex",-1).attr("title",this.element.data("show-items-text")).tooltip().appendTo(this.wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").on("mousedown",function(){d=c.autocomplete("widget").is(":visible")}).on("click",function(){c.trigger("focus");if(d){return}c.autocomplete("search","")})},_source:function(d,c){var e=new RegExp(b.ui.autocomplete.escapeRegex(d.term),"i");c(this.element.children("option").map(function(){var f=b(this).text();if(this.value&&(!d.term||e.test(f))){return{label:f,value:f,option:this}}}))},_destroy:function(){this.wrapper.remove();this.element.show()}});b("select[data-combobox='1']").combobox()})()});