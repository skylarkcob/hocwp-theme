window.wp=window.wp||{},window.hocwpThemeMediaUpload=window.hocwpThemeMediaUpload||{},jQuery(document).ready(function(e){function t(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var a=e("body"),i=null;a.on("click",".hocwp-theme .select-media",function(a){if(a.preventDefault(),a.stopPropagation(),i)i.open();else{var o=e(this),r=e.trim(o.attr("data-title"))||hocwpThemeMediaUpload.l10n.title,n=e.trim(o.attr("data-button-text"))||hocwpThemeMediaUpload.l10n.buttonText,d=Boolean(parseInt(o.attr("data-multiple"))||parseInt(hocwpThemeMediaUpload.multiple)),l=e.trim(o.attr("data-media-type"))||"image";r=r.replace("%s",t(l)),n=n.replace("%s",l),i=wp.media({title:r,button:{text:n},multiple:d,library:{type:l}}),i.on("select",function(){var t=i.state().get("selection"),a=o.closest("div");if(d);else{var r=t.first().toJSON();if(r){var n=document.createElement("img");if(n.setAttribute("src",r.url),n.setAttribute("alt",r.alt),n.setAttribute("width",r.width),n.setAttribute("height",r.height),a.find("input").val(r.id),o.html(n),!o.hasClass("has-media")){var s=hocwpThemeMediaUpload.updateImageDescription,p=hocwpThemeMediaUpload.removeImageButton;s=s.replace("%s",l),p=p.replace("%s",l),e(s).insertAfter(a.find(".hide-if-no-js")),e(p).insertAfter(a.find(".hide-if-no-js").last()),o.addClass("has-media")}}}}),i.open()}}),a.on("click",".hocwp-theme .remove-media",function(t){t.preventDefault(),t.stopPropagation();var a=e(this),i=a.closest("div"),o=i.find(".select-media");o.html(o.attr("data-text")),o.removeClass("has-media"),a.parent().remove(),i.find(".howto").remove(),i.find("input").val("")})});